var Form=function(){this.setForms(this),this.setSubmitButtons(this)};Form.prototype.setForms=function(){$("form").on("submit.form",function(){var a=$(this);return a.hasClass("js-is-submitting")?!1:(a.addClass("js-is-submitting"),!0)})},Form.prototype.setSubmitButtons=function(){$(".js-form-button-submit").on("mouseup.form",function(){$(this).closest("form").submit()})},Array.prototype.contains=function(a){for(i in this)if(this[i]==a)return!0;return!1};var Search=function(){this.timer,this.xhr,this.headerSearch=$(".js-header-search"),this.headerSearchDropContainer=$(".js-search-quick-append-drop"),this.headerSearchInput=$(".js-header-form-search-input"),this.setEvents(this)};Search.prototype.clearDrop=function(a){a.headerSearchDropContainer.html("")},Search.prototype.setEvents=function(a){$(document).on("keyup.header-search",function(b){27==b.keyCode&&a.clearDrop(a)}),$(document).off("mouseup.header-search").on("mouseup.header-search",function(b){$(b.target).closest(".js-drop").length||a.clearDrop(a)}),a.headerSearchInput.on("keyup.header-search",function(b){27!=b.keyCode&&a.poll(a)})},Search.prototype.poll=function(a){a.clearDrop(a),clearTimeout(a.timer),a.headerSearchInput.val().length<1||(a.timer=setTimeout(function(){a.pollRequest(a)},300))},Search.prototype.pollRequest=function(a){a.xhr=$.ajax({type:"get",url:config.url.ajax,data:{m:"Ajax_Modules_Search",query:a.headerSearchInput.val(),type:"quick"},success:function(b){b&&(a.headerSearchDropContainer.html(b),$(".js-quick-search-submit").on("click.header-search",function(){$(a.headerSearchInput).val(a.headerSearchInput.val()),$(".header-search-form").submit()}))}})};var Spinner=function(a){var b={container:"",type:"float"};this.options=$.extend(b,a),this.create(this)};Spinner.prototype.getStructure=function(a){var b="",c="block"==a.options.type;return c&&(b+='<div class="spinner-block js-spinner">'),b+='<div class="spinner js-spinner"></div>',c&&(b+="</div>"),b},Spinner.prototype.create=function(a){var b=$(a.options.container);b.addClass("is-loading").append(this.getStructure(a))},Spinner.prototype.delete=function(a){var b=$(a.options.container);b.removeClass("is-loading").find(".js-spinner").remove()};var system={},System=function(){this.page=$(".page"),this.documentBody=$(document.body),this.setEnvironment(this),this.setUrl(this)};System.prototype.setEnvironment=function(){$.ajaxSetup({timeout:1e4,cache:!1})},System.prototype.route=function(a){window.location.href=a},System.prototype.getUrl=function(a){return this.url[a]},System.prototype.getPage=function(){return this.page},System.prototype.getDocumentBody=function(){return this.documentBody},System.prototype.setUrl=function(a){a.url={},a.url.base=urlBase,a.url.ajax=a.url.base+"ajax/",a.url.admin=a.url.base+"admin/",a.url.adminAjax=a.url.admin+"ajax/",a.url.currentNoQuery=[location.protocol,"//",location.host,location.pathname].join("")},$(document).ready(function(){$("#my-menu").mmenu({},{})});