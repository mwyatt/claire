var Search=function(e){this.timer,this.xhr,this.headerSearch=$(".js-header-search"),this.headerSearchDropContainer=$(".js-search-quick-append-drop"),this.headerSearchInput=$(".js-header-form-search-input"),this.setEvents(this)};Search.prototype.clearDrop=function(e){e.headerSearchDropContainer.html("")},Search.prototype.setEvents=function(e){$(document).on("keyup.header-search",function(t){t.keyCode==27&&e.clearDrop(e)}),$(document).off("mouseup.header-search").on("mouseup.header-search",function(t){$(t.target).closest(".js-drop").length||e.clearDrop(e)}),e.headerSearchInput.on("keyup.header-search",function(t){if(t.keyCode==27)return;e.poll(e)})},Search.prototype.poll=function(e){e.clearDrop(e),clearTimeout(e.timer);if(e.headerSearchInput.val().length<1)return;e.timer=setTimeout(function(){e.pollRequest(e)},300)},Search.prototype.pollRequest=function(e){e.xhr=$.ajax({type:"get",url:config.url.ajax,data:{m:"Ajax_Modules_Search",query:e.headerSearchInput.val(),type:"quick"},success:function(t){t&&(e.headerSearchDropContainer.html(t),$(".js-quick-search-submit").on("click.header-search",function(t){$(e.headerSearchInput).val(e.headerSearchInput.val()),$(".header-search-form").submit()}))}})};